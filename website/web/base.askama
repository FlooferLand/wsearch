<html lang="en">
    <head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>
        	{%- block title -%}
        		{%- if let Ok(title) = "title"|value::<&str> -%}
					{{ title }}
				{%- endif -%}
			{%- endblock -%}
        </title>
        <link rel="stylesheet" type="text/css" href="$styles/main.scss" />
		<link rel="icon" type="image/png" href="$static/favicon.png" />

		<script src="$scripts/theme.js" defer></script>

		{%- block head %}{% endblock -%}
		{%- if let Ok(_) = "debug_served"|value::<bool> -%}
			<!-- TODO: Make a refresh script to refresh on a filesystem change -->
		{%- endif %}
    </head>
    <body>
		{#- Navbar #}
		<ul id="navbar">
			<li><img id="logo" src="$static/favicon.png" width="32px" /></li>
			<li><span id="logo-text">wsearch</span></li>
			<li><a href="/">home</a></li>

			{#- Theme #}
			<noscript><style>#theme-picker { display: none; }</style></noscript>
			<li><select id="theme-picker">
				<option value="auto" selected>Theme: Auto</option>
				<option value="dark">Theme: Dark</option>
				<option value="light">Theme: Light</option>
			</select></li>
			<li><p style="color: orangered" id="theme-notice"></p></li>
		</ul>

		{#- Body #}
		<div id="page-body">
			{% block body %}
				<p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua.</p>
			{% endblock %}
		</div>
    </body>
</html>